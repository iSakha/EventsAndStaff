<!DOCTYPE html>
<html>
  <head>
    <base target="_top">
    
            <!--Let browser know website is optimized for mobile-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <!--Import Google Icon Font-->
      <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- Compiled and minified CSS from          https://materializecss.com       -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    
  </head>
  <body>
    
    <h1>Create new event</h1>
 <div>
    <a href='<?= ScriptApp.getService().getUrl() ?>?v=page_0'id='btn' style="height:50px;width:300px" class="waves-effect waves-light btn-small input-field col s10"><i class="material-icons left">chevron_left</i>back to main page</a>
</div>  
   
     <div class="container">
    <div class="row">
       <div class="input-field col s4">
          <input id="evName" type="text" class="validate">
          <label for="evName">Event name</label>
       </div>
       
       <div class="input-field col s4">
          <input id="location" type="text" class="validate">
          <label for="location">Location</label>
       </div>
    </div> <!--CLOSE ROW-->
    
    <div class="row">
       <div class="input-field col s4">
          <input id='sdp' type="text" class="datepicker">
          <label for='sdp'>Start date</label>
       </div>
       
       <div class="input-field col s4">
          <input id='edp' type="text" class="datepicker">
          <label for='edp'>End date</label>
       </div>
    </div> <!--CLOSE ROW-->
    
        <div class="row">
       <div class="input-field col s4">
          <input id="numPers" type="text" class="validate">
          <label for="numPers">Number of staff</label>
       </div>
       
       <div class="input-field col s4">
          <input id="notes" type="text" class="validate">
          <label for="notes">Red boss</label>
       </div>
    </div> <!--CLOSE ROW-->
    
    
    <div class="row">          
      <button id='btn_submit' class="waves-effect waves-light btn"><i class="material-icons left">chevron_right</i>Submit</button>
    </div> <!--CLOSE ROW-->
    
  </div> <!--CLOSE CONTAINER--> 
          <!-- Compiled and minified JavaScript from          https://materializecss.com  -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    
    <script>
    
        document.addEventListener('DOMContentLoaded', function() {

        var startDpicker = document.getElementById('sdp');
        M.Datepicker.init(startDpicker);
        var endDpicker = document.getElementById('edp');
        M.Datepicker.init(endDpicker);

    });
    
    document.getElementById('btn_submit').addEventListener('click',doSubmit);
    

    function doSubmit() {

        var eventInfo = {};
        
        eventInfo.title = document.getElementById('evName').value;
        eventInfo.location = document.getElementById('location').value;
        eventInfo.startDate = document.getElementById('sdp').value;
        eventInfo.endDate = document.getElementById('edp').value;
        eventInfo.numberOfStaff = document.getElementById('numPers').value;
        eventInfo.notes = document.getElementById('notes').value;
        
        google.script.run.createEvent(eventInfo);
        
        document.getElementById('evName').value = '';
        document.getElementById('location').value = '';
        document.getElementById('sdp').value = '';
        document.getElementById('edp').value = '';
        document.getElementById('numPers').value = '';
        document.getElementById('notes').value = '';
      
      }

        
    
    </script>

    
  </body>
</html>

